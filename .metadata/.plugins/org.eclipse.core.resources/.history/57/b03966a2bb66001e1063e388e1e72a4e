<!DOCTYPE html>
<html xmlns:th="http://www.thymleaf.org">
<head>
<meta charset="UTF-8">
<title>데이터 리스트~~</title>
<style>
	.layout {
		width : 500px;
		margin: 0 auto;
		margin-top: 40px;
	}
</style>
</head>
<body>
	<div class="layout">
		<a th:href="@{/board/write}">글 작성</a>
		<table>
			<thead>
				<tr>
					<th>글 번호</th>
					<th>글 제목</th>
				</tr>
			</thead>
			<tbody>
				<tr th:each="board : ${list}"> <!-- addAttribute에서 list -->
					<td th:text="${board.id}">1</td>
					<td>
						<a th:text="${board.title}"
							th:href="@{/board/view(id=${board.id})}">제목</a>	<!-- 타임리프의 a href느낌으로 어노테이션 사용, (id=쿼리문이라고 생각) -->
					</td>
				</tr>
			</tbody>
		</table>
		
		<th:block th:if="${sortType == 'default'}">
			<a th:href="@{/board/list(page=${nowPage}, sortType='latest', searchKeyword=param.searchKeyword})}">최신순</a>
			<a th:href="@{/board/list(page=${nowPage}, sortType='default', searchKeyword=param.searchKeyword})}"><strong>기본순</strong></a>
		</th:block>
		
		<th:block th:if="${sortType == 'latest'}">
			<a th:href="@{/board/list(page=${nowPage}, sortType='latest', searchKeyword=${param.searchKeyword}"><strong>최신순</strong></a>
			<a th:href="@{/board/list(page=${nowPage}, sortType='default', searchKeyword=${param.searchKeyword}">기본순</a>
		</th:block>
		
		<th:block th:each="page : ${#numbers.sequence(startPage, endPage)}">
			<a th:if="${page != nowPage}" th:href="@{/board/list(page=${page-1},
			searchKeyword = ${param.searchKeyword})}" th:text="${page}"></a>
			<strong th:if="${page == nowPage}" th:text="${page}" style="color: red;"></strong>
		</th:block>
		<form th:action="@{/board/list}" method="get">
			<input type="text" name="searchKeyword">
			<button type="submit"> 검색 </button>
		</form>
	</div>
</body>
</html>